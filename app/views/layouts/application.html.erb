<!DOCTYPE html>
<html>
  <head>
    <title>$appname</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  

  <body>
    <div class="container" data-behavior="vue">
      <app inline-template>
        <template>
            <b-navbar>
                <template slot="brand">
                    <b-navbar-item href="/">
                        <img
                            src="https://raw.githubusercontent.com/buefy/buefy/dev/static/img/buefy-logo.png"
                            alt="Lightweight UI components for Vue.js based on Bulma"
                        >
                    </b-navbar-item>
                </template>
                <template slot="start">
                    <b-navbar-item href="/books">
                        Books
                    </b-navbar-item>
                    <b-navbar-item href="/authors">
                        Authors
                    </b-navbar-item>
                    <b-navbar-item href="/libraries">
                        Libraries
                    </b-navbar-item>

                </template>

                <template slot="end">
                    <b-navbar-item tag="div">
                        <div class="buttons">
                          <% if user_signed_in? %>
                            <%= link_to('Edit registration', edit_user_registration_path, class: "button is-primary") %>
                          <% else %>
                            <%= link_to('Register', new_user_registration_path, class: "button is-primary") %>
                          <% end %>

                            <% if user_signed_in? %>
                              <%= link_to('Logout', destroy_user_session_path, method: :delete, class: "button is-light") %>        
                            <% else %>
                              <%= link_to('Login', new_user_session_path, class: "button is-light") %>  
                            <% end %>
                        </div>
                    </b-navbar-item>
                </template>
            </b-navbar>
        </template>
      </app>




      <% unless notice.nil? %><app :message="<%= notice.to_json %>"></app><% end %>
      <% unless alert.nil? %><app :message="<%= alert.to_json %>"></app><% end %>
      <%= yield %>
    </div>
  </body>
</html>